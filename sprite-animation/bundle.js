/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports) {

	"use strict";
	
	window.onload = function () {
	
	  var canvas = document.getElementById("canvas");
	  var ctx = canvas.getContext("2d");
	  var qualm = new Image();
	  qualm.onload = start;
	  qualm.src = "qualm.png";
	  var enemy1 = { x: 200, y: 400, radius: 15 };
	  var tower1 = { x: 500, y: 500, radius: 25 };
	  var enemy2 = { x: 600, y: 150, radius: 15 };
	  var tower2 = { x: 50, y: 50, radius: 25 };
	  var factor = 2;
	  var targetFactor = 0;
	  var counter = 0;
	
	  function animationLoop() {
	
	    if (counter <= 400) {
	      window.requestAnimationFrame(animationLoop);
	    }
	
	    ctx.clearRect(0, 0, 800, 600);
	    drawTower(tower1, ctx);
	    drawTower(tower2, ctx);
	    drawEnemy(enemy1, ctx);
	    drawEnemy(enemy2, ctx);
	    drawSmoke(enemy1, tower1, factor, targetFactor);
	    drawSmoke(enemy2, tower2, factor, targetFactor);
	
	    enemy1.x += 1;
	    enemy1.y -= 0.25;
	    var oldX = enemy2.x;
	    enemy2.x -= 1;
	    enemy2.y = -0.00875 * oldX * oldX + 7 * oldX - 900;
	    if (targetFactor < 1) {
	      targetFactor += 1 / 60;
	    } else {
	      targetFactor = 1;
	    }
	    counter += 1;
	  }
	
	  function calcStartingPoint(target, tower) {
	    var eX = target.x;
	    var eY = target.y;
	    var rE = target.radius;
	    var tX = tower.x;
	    var tY = tower.y;
	
	    var deltaY = -(eX - tX);
	    var deltaX = eY - tY;
	    var factor = rE / Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));
	    var startX = eX + deltaX * factor;
	    var startY = eY + deltaY * factor;
	    return { startX: startX, startY: startY };
	  }
	
	  function calcStartingAngle(target, tower, startX) {
	    var eX = target.x;
	    var rE = target.radius;
	    var tX = tower.x;
	    // let {startX} = start;
	
	    var angle = undefined;
	    if (eX <= tX) {
	      angle = Math.PI - Math.acos((eX - startX) / rE);
	    } else {
	      angle = Math.PI + Math.acos((eX - startX) / rE);
	    }
	    return angle;
	  }
	
	  function calcSmokeTarget(enemy, tower, factor, targetFactor) {
	    var eX = enemy.x;
	    var eY = enemy.y;
	    var eR = enemy.radius;
	    var tX = tower.x;
	    var tY = tower.y;
	
	    var x = tX + targetFactor * (eX - tX);
	    var y = tY + targetFactor * (eY - tY);
	    var radius = eR * factor * targetFactor;
	    return { x: x, y: y, radius: radius };
	  }
	
	  function drawEnemy(enemy, ctx) {
	    ctx.beginPath();
	    ctx.arc(enemy.x, enemy.y, enemy.radius, 0, 2 * Math.PI);
	    ctx.fillStyle = "red";
	    ctx.fill();
	    ctx.closePath();
	  }
	
	  function drawTower(tower, ctx) {
	    ctx.beginPath();
	    ctx.fillStyle = "blue";
	    ctx.arc(tower.x, tower.y, tower.radius, 0, 2 * Math.PI);
	    ctx.fill();
	    ctx.closePath();
	  }
	
	  function drawSmoke(enemy, tower, factor, targetFactor) {
	    var smoke = calcSmokeTarget(enemy, tower, factor, targetFactor);
	
	    var _calcStartingPoint = calcStartingPoint(smoke, tower);
	
	    var startX = _calcStartingPoint.startX;
	    var startY = _calcStartingPoint.startY;
	
	    var startingAngle = calcStartingAngle(smoke, tower, startX);
	    var endAngle = startingAngle + Math.PI;
	
	    ctx.save();
	    ctx.beginPath();
	    // ctx.strokeStyle = "black";
	    // ctx.fillStyle = `rgba(150, 150, 150, ${randOp})`;
	    ctx.moveTo(tower.x, tower.y);
	    ctx.lineTo(startX, startY);
	    ctx.arc(smoke.x, smoke.y, smoke.radius, startingAngle, endAngle, false);
	    ctx.lineTo(tower.x, tower.y);
	    // ctx.stroke();
	    // ctx.fill();
	    ctx.closePath();
	    ctx.clip();
	    ctx.drawImage(qualm, 0, 0, 800, 600);
	    ctx.restore();
	  }
	
	  // function calcDistance(enemy, tower) {
	  //   let {x: eX, y: eY} = enemy;
	  //   let {x: tX, y: tY} = tower;
	  //   return Math.sqrt(Math.pow((eX - tX), 2) + Math.pow((eY - tY), 2));
	  //
	  // }
	  function start() {
	    animationLoop();
	  }
	};

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMDAwZDFhYjc3NWUwNjc2YjE4ZTMiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7OztBQ3RDQSxPQUFNLENBQUMsTUFBTSxHQUFHLFlBQVk7O0FBRTFCLE9BQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDL0MsT0FBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNsQyxPQUFJLEtBQUssR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO0FBQ3hCLFFBQUssQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0FBQ3JCLFFBQUssQ0FBQyxHQUFHLEdBQUcsV0FBVyxDQUFDO0FBQ3hCLE9BQUksTUFBTSxHQUFHLEVBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUMsQ0FBQztBQUMxQyxPQUFJLE1BQU0sR0FBRyxFQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFDLENBQUM7QUFDMUMsT0FBSSxNQUFNLEdBQUcsRUFBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBQyxDQUFDO0FBQzFDLE9BQUksTUFBTSxHQUFHLEVBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFF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Q0FBQztBQUMzQixRQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsTUFBTSxFQUFFLGFBQWEsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDeEUsUUFBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7OztBQUc1QixRQUFHLENBQUMsU0FBUyxFQUFFLENBQUM7QUFDaEIsUUFBRyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1gsUUFBRyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDckMsUUFBRyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ2Y7Ozs7Ozs7O0FBUUQsWUFBUyxLQUFLLEdBQUc7QUFDZixrQkFBYSxFQUFFLENBQUM7SUFDakI7RUFFRixDIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay9ib290c3RyYXAgMDAwZDFhYjc3NWUwNjc2YjE4ZTNcbiAqKi8iLCJ3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXG4gIGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcbiAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gIGxldCBxdWFsbSA9IG5ldyBJbWFnZSgpO1xuICBxdWFsbS5vbmxvYWQgPSBzdGFydDtcbiAgcXVhbG0uc3JjID0gXCJxdWFsbS5wbmdcIjtcbiAgbGV0IGVuZW15MSA9IHt4OiAyMDAsIHk6IDQwMCwgcmFkaXVzOiAxNX07XG4gIGxldCB0b3dlcjEgPSB7eDogNTAwLCB5OiA1MDAsIHJhZGl1czogMjV9O1xuICBsZXQgZW5lbXkyID0ge3g6IDYwMCwgeTogMTUwLCByYWRpdXM6IDE1fTtcbiAgbGV0IHRvd2VyMiA9IHt4OiA1MCwgeTogNTAsIHJhZGl1czogMjV9O1xuICBsZXQgZmFjdG9yID0gMjtcbiAgbGV0IHRhcmdldEZhY3RvciA9IDA7XG4gIGxldCBjb3VudGVyID0gMDtcblxuXG4gIGZ1bmN0aW9uIGFuaW1hdGlvbkxvb3AoKSB7XG5cbiAgICAgIGlmKGNvdW50ZXIgPD0gNDAwKSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uTG9vcCk7XG4gICAgICB9XG5cbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgODAwLCA2MDApO1xuICAgICAgZHJhd1Rvd2VyKHRvd2VyMSwgY3R4KTtcbiAgICAgIGRyYXdUb3dlcih0b3dlcjIsIGN0eCk7XG4gICAgICBkcmF3RW5lbXkoZW5lbXkxLCBjdHgpO1xuICAgICAgZHJhd0VuZW15KGVuZW15MiwgY3R4KTtcbiAgICAgIGRyYXdTbW9rZShlbmVteTEsIHRvd2VyMSwgZmFjdG9yLCB0YXJnZXRGYWN0b3IpO1xuICAgICAgZHJhd1Ntb2tlKGVuZW15MiwgdG93ZXIyLCBmYWN0b3IsIHRhcmdldEZhY3Rvcik7XG5cbiAgICAgIGVuZW15MS54ICs9IDE7XG4gICAgICBlbmVteTEueSAtPSAwLjI1O1xuICAgICAgbGV0IG9sZFggPSBlbmVteTIueDtcbiAgICAgIGVuZW15Mi54IC09IDE7XG4gICAgICBlbmVteTIueSA9IC0wLjAwODc1ICogb2xkWCAqIG9sZFggKyA3ICogb2xkWCAtIDkwMDtcbiAgICAgIGlmKHRhcmdldEZhY3RvciA8IDEpIHtcbiAgICAgICAgdGFyZ2V0RmFjdG9yICs9IDEvNjA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRGYWN0b3IgPSAxO1xuICAgICAgfVxuICAgICAgY291bnRlciArPSAxO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FsY1N0YXJ0aW5nUG9pbnQodGFyZ2V0LCB0b3dlcikge1xuICAgIGxldCB7eDogZVgsIHk6IGVZLCByYWRpdXM6IHJFfSA9IHRhcmdldDtcbiAgICBsZXQge3g6IHRYLCB5OiB0WX0gPSB0b3dlcjtcbiAgICBsZXQgZGVsdGFZID0gLShlWCAtIHRYKTtcbiAgICBsZXQgZGVsdGFYID0gZVkgLSB0WTtcbiAgICBsZXQgZmFjdG9yID0gckUgLyBNYXRoLnNxcnQoTWF0aC5wb3coZGVsdGFYLCAyKSArIE1hdGgucG93KGRlbHRhWSwgMikpO1xuICAgIGxldCBzdGFydFggPSBlWCArIGRlbHRhWCAqIGZhY3RvcjtcbiAgICBsZXQgc3RhcnRZID0gZVkgKyBkZWx0YVkgKiBmYWN0b3I7XG4gICAgcmV0dXJuIHtzdGFydFgsIHN0YXJ0WX07XG4gIH1cblxuICBmdW5jdGlvbiBjYWxjU3RhcnRpbmdBbmdsZSh0YXJnZXQsIHRvd2VyLCBzdGFydFgpIHtcbiAgICBsZXQge3g6IGVYLCByYWRpdXM6IHJFfSA9IHRhcmdldDtcbiAgICBsZXQge3g6IHRYfSA9IHRvd2VyO1xuICAgIC8vIGxldCB7c3RhcnRYfSA9IHN0YXJ0O1xuICAgIGxldCBhbmdsZTtcbiAgICBpZihlWCA8PSB0WCkge1xuICAgICAgYW5nbGUgPSBNYXRoLlBJIC0gTWF0aC5hY29zKChlWCAtIHN0YXJ0WCkgLyByRSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFuZ2xlID0gTWF0aC5QSSArIE1hdGguYWNvcygoZVgtc3RhcnRYKSAvIHJFKTtcbiAgICB9XG4gICAgcmV0dXJuIGFuZ2xlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FsY1Ntb2tlVGFyZ2V0KGVuZW15LCB0b3dlciwgZmFjdG9yLCB0YXJnZXRGYWN0b3IpIHtcbiAgICBsZXQge3g6IGVYLCB5OiBlWSwgcmFkaXVzOiBlUn0gPSBlbmVteTtcbiAgICBsZXQge3g6IHRYLCB5OiB0WX0gPSB0b3dlcjtcbiAgICBsZXQgeCA9IHRYICsgdGFyZ2V0RmFjdG9yICogKGVYIC0gdFgpO1xuICAgIGxldCB5ID0gdFkgKyB0YXJnZXRGYWN0b3IgKiAoZVkgLSB0WSk7XG4gICAgbGV0IHJhZGl1cyA9IGVSICogZmFjdG9yICogdGFyZ2V0RmFjdG9yO1xuICAgIHJldHVybiB7eCwgeSwgcmFkaXVzfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdFbmVteShlbmVteSwgY3R4KSB7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmMoZW5lbXkueCwgZW5lbXkueSwgZW5lbXkucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IFwicmVkXCI7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3VG93ZXIodG93ZXIsIGN0eCkge1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguZmlsbFN0eWxlID0gXCJibHVlXCI7XG4gICAgY3R4LmFyYyh0b3dlci54LCB0b3dlci55LCB0b3dlci5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdTbW9rZShlbmVteSwgdG93ZXIsIGZhY3RvciwgdGFyZ2V0RmFjdG9yKSB7XG4gICAgbGV0IHNtb2tlID0gY2FsY1Ntb2tlVGFyZ2V0KGVuZW15LCB0b3dlciwgZmFjdG9yLCB0YXJnZXRGYWN0b3IpO1xuICAgIGxldCB7c3RhcnRYLCBzdGFydFl9ID0gY2FsY1N0YXJ0aW5nUG9pbnQoc21va2UsIHRvd2VyKTtcbiAgICBsZXQgc3RhcnRpbmdBbmdsZSA9IGNhbGNTdGFydGluZ0FuZ2xlKHNtb2tlLCB0b3dlciwgc3RhcnRYKTtcbiAgICBsZXQgZW5kQW5nbGUgPSBzdGFydGluZ0FuZ2xlICsgTWF0aC5QSTtcblxuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIC8vIGN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAvLyBjdHguZmlsbFN0eWxlID0gYHJnYmEoMTUwLCAxNTAsIDE1MCwgJHtyYW5kT3B9KWA7XG4gICAgY3R4Lm1vdmVUbyh0b3dlci54LCB0b3dlci55KTtcbiAgICBjdHgubGluZVRvKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICBjdHguYXJjKHNtb2tlLngsIHNtb2tlLnksIHNtb2tlLnJhZGl1cywgc3RhcnRpbmdBbmdsZSwgZW5kQW5nbGUsIGZhbHNlKTtcbiAgICBjdHgubGluZVRvKHRvd2VyLngsIHRvd2VyLnkpO1xuICAgIC8vIGN0eC5zdHJva2UoKTtcbiAgICAvLyBjdHguZmlsbCgpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguY2xpcCgpO1xuICAgIGN0eC5kcmF3SW1hZ2UocXVhbG0sIDAsIDAsIDgwMCwgNjAwKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgLy8gZnVuY3Rpb24gY2FsY0Rpc3RhbmNlKGVuZW15LCB0b3dlcikge1xuICAvLyAgIGxldCB7eDogZVgsIHk6IGVZfSA9IGVuZW15O1xuICAvLyAgIGxldCB7eDogdFgsIHk6IHRZfSA9IHRvd2VyO1xuICAvLyAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coKGVYIC0gdFgpLCAyKSArIE1hdGgucG93KChlWSAtIHRZKSwgMikpO1xuICAvL1xuICAvLyB9XG4gIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIGFuaW1hdGlvbkxvb3AoKTtcbiAgfVxuXG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9pbmRleC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=